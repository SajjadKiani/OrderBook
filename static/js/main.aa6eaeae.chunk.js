(this["webpackJsonpcomment-list"]=this["webpackJsonpcomment-list"]||[]).push([[0],{23:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var n=s(0),c=s.n(n),a=s(13),r=s.n(a),o=s(12),l=s(1);var i=function(){return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsxs)("div",{className:"header-row1",children:[Object(l.jsx)("h2",{children:"Sell"}),Object(l.jsx)("h2",{children:"Buy"})]}),Object(l.jsxs)("div",{className:"header-row2",children:[Object(l.jsx)("span",{children:"Total (BTC)"}),Object(l.jsx)("span",{children:"Amount (BTC)"}),Object(l.jsx)("span",{children:"PRICE (USD)"}),Object(l.jsx)("span",{children:"Amount (BTC)"}),Object(l.jsx)("span",{children:"Total (BTC)"})]})]})},d=s(14),j=s.n(d),b="sell",u="buy";var h=function(e){var t=e.index,s=e.type,n=e.price,c=e.total,a=e.amount,r=e.bgWidth;return Object(l.jsxs)("div",{"data-testid":"orderbookRow-".concat(s,"-").concat(t),className:j()("row",{"sell-row":s===b,"buy-row":s===u}),children:[Object(l.jsx)("div",{className:"background",style:{width:r}}),Object(l.jsx)("span",{className:"price",children:+n}),Object(l.jsx)("span",{className:"quantity",children:+a}),Object(l.jsx)("span",{className:"total",children:+c})]})};var O=function(e){e.data;var t=Object(n.useState)([]),s=Object(o.a)(t,2),a=s[0],r=s[1],d=Object(n.useState)([]),j=Object(o.a)(d,2),b=j[0],u=j[1];c.a.useEffect((function(){var e=new WebSocket("wss://ws.bitstamp.net");return e.onopen=function(t){console.log("open:"),console.log(t);e.send(JSON.stringify({event:"bts:subscribe",data:{channel:"order_book_btcusd"}}))},e.onmessage=function(t){var s=t.data;document.createElement("div").textContent=s,"bts:subscription_succeeded"!==JSON.parse(s).event&&(u(JSON.parse(s).data.bids),r(JSON.parse(s).data.asks)),e.onerror=function(e){console.log("event"),console.log(e)},e.onclose=function(e){console.log("close:"),console.log(t)}},function(){e.close(1e3,"work end!")}}),[]);var O=function(e,t){for(var s=0,n="sell"===t?b:a,c=0;c<=e;c++)s+=parseInt(n[c][1]);return s},p=function(e){var t=0;return("sell"===e?b:a).forEach((function(e){t+=parseInt(e[1])})),t};return c.a.useEffect((function(){b.length}),[b]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{className:"info",children:"Bitstamp Orderbook (BTC/USD)"}),Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsx)(i,{}),Object(l.jsxs)("div",{className:"table",children:[Object(l.jsx)("div",{className:"sell-side side",children:b.map((function(e,t){var s=O(t,"sell"),n=p("sell");return Object(l.jsx)(h,{amount:e[1],type:"sell",price:e[0],index:t,bgWidth:100*s/n,total:s},t)}))}),Object(l.jsx)("div",{className:"buy-side side",children:a.map((function(e,t){var s=O(t,"buy"),n=p("buy");return Object(l.jsx)(h,{amount:e[1],type:"buy",price:e[0],index:t,bgWidth:100*s/n,total:s},t)}))})]})]})]})},p=(s(23),s(15)),m=s(2);r.a.render(Object(l.jsx)(p.a,{basename:"/OrderBook",children:Object(l.jsx)(m.c,{children:Object(l.jsx)(m.a,{path:"/",component:O})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.aa6eaeae.chunk.js.map